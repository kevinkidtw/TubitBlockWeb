!function(e){var t={};function n(g){if(t[g])return t[g].exports;var I=t[g]={i:g,l:!1,exports:{}};return e[g].call(I.exports,I,I.exports,n),I.l=!0,I.exports}n.m=e,n.c=t,n.d=function(e,t,g){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:g})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var g=Object.create(null);if(n.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var I in e)n.d(g,I,function(t){return e[t]}.bind(null,I));return g},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(module,exports){eval("/* eslint-env worker */\n\nlet jobsActive = 0;\nconst complete = [];\nlet intervalId = null;\n\n/**\n * Register a step function.\n *\n * Step checks if there are completed jobs and if there are sends them to the\n * parent. Then it checks the jobs count. If there are no further jobs, clear\n * the step.\n */\nconst registerStep = function () {\n  intervalId = setInterval(() => {\n    if (complete.length) {\n      // Send our chunk of completed requests and instruct postMessage to\n      // transfer the buffers instead of copying them.\n      postMessage(complete.slice(),\n      // Instruct postMessage that these buffers in the sent message\n      // should use their Transferable trait. After the postMessage\n      // call the \"buffers\" will still be in complete if you looked,\n      // but they will all be length 0 as the data they reference has\n      // been sent to the window. This lets us send a lot of data\n      // without the normal postMessage behaviour of making a copy of\n      // all of the data for the window.\n      complete.map(response => response.buffer).filter(Boolean));\n      complete.length = 0;\n    }\n    if (jobsActive === 0) {\n      clearInterval(intervalId);\n      intervalId = null;\n    }\n  }, 1);\n};\n\n/**\n * Receive a job from the parent and fetch the requested data.\n * @param {object} options.job A job id, url, and options descriptor to perform.\n */\nconst onMessage = ({\n  data: job\n}) => {\n  if (jobsActive === 0 && !intervalId) {\n    registerStep();\n  }\n  jobsActive++;\n  fetch(job.url, job.options).then(response => response.arrayBuffer()).then(buffer => complete.push({\n    id: job.id,\n    buffer\n  })).catch(error => complete.push({\n    id: job.id,\n    error\n  })).then(() => jobsActive--);\n};\nif (self.fetch) {\n  postMessage({\n    support: {\n      fetch: true\n    }\n  });\n  self.addEventListener('message', onMessage);\n} else {\n  postMessage({\n    support: {\n      fetch: false\n    }\n  });\n  self.addEventListener('message', ({\n    data: job\n  }) => {\n    postMessage([{\n      id: job.id,\n      error: new Error('fetch is unavailable')\n    }]);\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zY3JhdGNoLXN0b3JhZ2Uvc3JjL0ZldGNoV29ya2VyVG9vbC53b3JrZXIuanM/MGI2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZW52IHdvcmtlciAqL1xuXG5sZXQgam9ic0FjdGl2ZSA9IDA7XG5jb25zdCBjb21wbGV0ZSA9IFtdO1xuXG5sZXQgaW50ZXJ2YWxJZCA9IG51bGw7XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBzdGVwIGZ1bmN0aW9uLlxuICpcbiAqIFN0ZXAgY2hlY2tzIGlmIHRoZXJlIGFyZSBjb21wbGV0ZWQgam9icyBhbmQgaWYgdGhlcmUgYXJlIHNlbmRzIHRoZW0gdG8gdGhlXG4gKiBwYXJlbnQuIFRoZW4gaXQgY2hlY2tzIHRoZSBqb2JzIGNvdW50LiBJZiB0aGVyZSBhcmUgbm8gZnVydGhlciBqb2JzLCBjbGVhclxuICogdGhlIHN0ZXAuXG4gKi9cbmNvbnN0IHJlZ2lzdGVyU3RlcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAoY29tcGxldGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBTZW5kIG91ciBjaHVuayBvZiBjb21wbGV0ZWQgcmVxdWVzdHMgYW5kIGluc3RydWN0IHBvc3RNZXNzYWdlIHRvXG4gICAgICAgICAgICAvLyB0cmFuc2ZlciB0aGUgYnVmZmVycyBpbnN0ZWFkIG9mIGNvcHlpbmcgdGhlbS5cbiAgICAgICAgICAgIHBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlLnNsaWNlKCksXG4gICAgICAgICAgICAgICAgLy8gSW5zdHJ1Y3QgcG9zdE1lc3NhZ2UgdGhhdCB0aGVzZSBidWZmZXJzIGluIHRoZSBzZW50IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgdXNlIHRoZWlyIFRyYW5zZmVyYWJsZSB0cmFpdC4gQWZ0ZXIgdGhlIHBvc3RNZXNzYWdlXG4gICAgICAgICAgICAgICAgLy8gY2FsbCB0aGUgXCJidWZmZXJzXCIgd2lsbCBzdGlsbCBiZSBpbiBjb21wbGV0ZSBpZiB5b3UgbG9va2VkLFxuICAgICAgICAgICAgICAgIC8vIGJ1dCB0aGV5IHdpbGwgYWxsIGJlIGxlbmd0aCAwIGFzIHRoZSBkYXRhIHRoZXkgcmVmZXJlbmNlIGhhc1xuICAgICAgICAgICAgICAgIC8vIGJlZW4gc2VudCB0byB0aGUgd2luZG93LiBUaGlzIGxldHMgdXMgc2VuZCBhIGxvdCBvZiBkYXRhXG4gICAgICAgICAgICAgICAgLy8gd2l0aG91dCB0aGUgbm9ybWFsIHBvc3RNZXNzYWdlIGJlaGF2aW91ciBvZiBtYWtpbmcgYSBjb3B5IG9mXG4gICAgICAgICAgICAgICAgLy8gYWxsIG9mIHRoZSBkYXRhIGZvciB0aGUgd2luZG93LlxuICAgICAgICAgICAgICAgIGNvbXBsZXRlLm1hcChyZXNwb25zZSA9PiByZXNwb25zZS5idWZmZXIpLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbXBsZXRlLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpvYnNBY3RpdmUgPT09IDApIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICBpbnRlcnZhbElkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sIDEpO1xufTtcblxuLyoqXG4gKiBSZWNlaXZlIGEgam9iIGZyb20gdGhlIHBhcmVudCBhbmQgZmV0Y2ggdGhlIHJlcXVlc3RlZCBkYXRhLlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMuam9iIEEgam9iIGlkLCB1cmwsIGFuZCBvcHRpb25zIGRlc2NyaXB0b3IgdG8gcGVyZm9ybS5cbiAqL1xuY29uc3Qgb25NZXNzYWdlID0gKHtkYXRhOiBqb2J9KSA9PiB7XG4gICAgaWYgKGpvYnNBY3RpdmUgPT09IDAgJiYgIWludGVydmFsSWQpIHtcbiAgICAgICAgcmVnaXN0ZXJTdGVwKCk7XG4gICAgfVxuXG4gICAgam9ic0FjdGl2ZSsrO1xuXG4gICAgZmV0Y2goam9iLnVybCwgam9iLm9wdGlvbnMpXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXG4gICAgICAgIC50aGVuKGJ1ZmZlciA9PiBjb21wbGV0ZS5wdXNoKHtpZDogam9iLmlkLCBidWZmZXJ9KSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbXBsZXRlLnB1c2goe2lkOiBqb2IuaWQsIGVycm9yfSkpXG4gICAgICAgIC50aGVuKCgpID0+IGpvYnNBY3RpdmUtLSk7XG59O1xuXG5pZiAoc2VsZi5mZXRjaCkge1xuICAgIHBvc3RNZXNzYWdlKHtzdXBwb3J0OiB7ZmV0Y2g6IHRydWV9fSk7XG4gICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25NZXNzYWdlKTtcbn0gZWxzZSB7XG4gICAgcG9zdE1lc3NhZ2Uoe3N1cHBvcnQ6IHtmZXRjaDogZmFsc2V9fSk7XG4gICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKHtkYXRhOiBqb2J9KSA9PiB7XG4gICAgICAgIHBvc3RNZXNzYWdlKFt7aWQ6IGpvYi5pZCwgZXJyb3I6IG5ldyBFcnJvcignZmV0Y2ggaXMgdW5hdmFpbGFibGUnKX1dKTtcbiAgICB9KTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")}]);
//# sourceMappingURL=f499fe2db5e8532414d5.worker.js.map